<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RGALAB - Health Pro</title>

    <!-- ููุชุจุงุช ูุงูุฑุจูุณ ูุชุดุงุฑุช -->
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- ุฑุจุท ููู ุงูุณุชุงูู -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="ar-mode">
<!-- ุญุงููุฉ ุงูุทุงูุฉ ูุงูุจูุณุชุฑุงุช (ูู ุฃุนูู ุงูุตูุญุฉ) -->
<div class="stamina-wrapper">
    <!-- ุดุฑูุท ุงูุทุงูุฉ -->
    <div class="stamina-container">
        <span class="stamina-icon">โก</span>
        <div class="stamina-bar-bg"><div id="stamina-fill" class="stamina-fill"></div></div>
        <span id="stamina-text" class="stamina-text">100/100</span>
    </div>
    
    <!-- ุนุฏุงุฏ ุงูููุช ููุทุงูุฉ -->
    <div id="stamina-timer" class="stamina-timer">Full Energy</div>

    <!-- ๐งช ููุทูุฉ ุงูุจูุณุชุฑุงุช (ุชุธูุฑ ููุง ุจุดูู ูุฑุชุจ) -->
    <div class="boosters-container">
        <!-- ุจูุณุชุฑ ุงูู XP -->
        <div id="xp-booster-ui" class="booster-badge booster-xp hidden">
            ๐งช 2x XP: <span id="xp-timer-val">59:59</span>
        </div>
        <!-- ุจูุณุชุฑ ุงูุทุงูุฉ -->
        <div id="energy-booster-ui" class="booster-badge booster-energy hidden">
            โก Fast Regen: <span id="energy-timer-val">59:59</span>
        </div>
    </div>
</div>



    <!-- โ Toast Notification element -->
    <div id="toast-notification"></div>

    <!-- Notifications & AI Buttons -->
    <div id="notif-icon" onclick="toggleNotifs()">๐<span id="notif-badge">0</span></div>

    <div id="notif-dropdown">
        <div style="padding:10px; font-weight:bold; border-bottom:1px solid rgba(255,255,255,0.1);" id="notif-header-text">ุงูุฅุดุนุงุฑุงุช Notifications</div>
        <div id="notif-list"></div>
    </div>

    <div id="ai-chat-btn" onclick="toggleAIChat()">๐ค</div>

    <!-- Game Modal: Deadlift -->
    <div id="game-modal">
        <div class="game-stats-bar">
            <div class="stat-item">
                <span class="stat-label">TIME</span>
                <span id="game-timer-val" class="stat-value">60s</span>
            </div>
            <div class="stat-item" style="border-left: 1px solid rgba(255,255,255,0.1); padding-left:15px;">
                <span class="stat-label">EARNED XP</span>
                <span id="session-xp-val" class="stat-value">0</span>
            </div>
            <div class="stat-item" style="border-left: 1px solid rgba(255,255,255,0.1); padding-left:15px;">
                <span class="stat-label">BEST COMBO</span>
                <span id="best-combo-val" class="stat-value">0</span>
            </div>
        </div>
        <div class="game-container" id="shake-target">
            <img id="deadlift-char" class="deadlift-img" src=""
                 onmousedown="handleInteraction(event, 'start')"
                 onmouseup="handleInteraction(event, 'end')"
                 ontouchstart="handleInteraction(event, 'start')"
                 ontouchend="handleInteraction(event, 'end')">
        </div>
        <button class="exit-btn-game" onclick="closeGame()">EXIT SESSION</button>
    </div>

    <!-- โจโจโจ Game Modal: Squat โจโจโจ -->
    <div id="squat-game-modal" style="display: none; position: fixed; z-index: 20000; left: 0; top: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(0,0,0,0.9), rgba(20,20,20,0.8)), var(--game-bg) no-repeat center center; background-size: cover; backdrop-filter: blur(15px); align-items: center; justify-content: center; flex-direction: column;" onclick="handleSquatClick()">
        <div class="game-stats-bar">
            <div class="stat-item">
                <span class="stat-label">MISTAKES</span>
                <span id="squat-mistakes-val" class="stat-value">0 / 5</span>
            </div>
            <div class="stat-item" style="border-left: 1px solid rgba(255,255,255,0.1); padding-left:15px;">
                <span class="stat-label">EARNED XP</span>
                <span id="squat-session-xp-val" class="stat-value">0</span>
            </div>
        </div>
        <!-- ุญุงููุฉ ุงููุนุจุฉ ุงููุทูุฑุฉ -->
        <div class="game-container" id="squat-game-container" style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
            <div id="squat-char-container" style="width: 280px; height: 280px; position: absolute;">
                <img id="squat-char-before" src="https://i.ibb.co/JWJjKV1B/IMG-4306.png" style="width: 100%; position: absolute; bottom: 0; transition: all 0.2s; pointer-events: none; filter: drop-shadow(0 0 20px var(--primary));">
                <img id="squat-char-after" src="https://i.ibb.co/h1BjbXB1/IMG-4305.png" style="width: 100%; position: absolute; bottom: 0; opacity: 0; transition: all 0.2s; pointer-events: none; filter: drop-shadow(0 0 20px var(--primary));">
            </div>
            <div id="squat-bar-container" style="position: absolute; left: -50px; width: 40px; height: 85%; background: rgba(255, 255, 255, 0.1); border-radius: 15px; cursor: pointer; border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); overflow: hidden;">
                <div id="squat-green-zone" style="position: absolute; width: 100%; height: 25%; background: rgba(76, 175, 80, 0.5); top: 37.5%; border-top: 2px solid white; border-bottom: 2px solid white;"></div>
                <div id="squat-line" style="position: absolute; width: 100%; height: 4px; background: white; top: 0; box-shadow: 0 0 10px white;"></div>
            </div>
        </div>
        <button class="exit-btn-game" onclick="closeSquatGame()">EXIT CHALLENGE</button>
    </div>

    <!-- AI Window -->
    <div id="ai-window">
        <div class="ai-header">
            <span id="ai-title">ูุฏุฑุจ RGALAB ุงูุฐูู</span>
            <span style="cursor:pointer; font-size: 20px;" onclick="toggleAIChat()">ร</span>
        </div>
        <div id="ai-messages"></div>
        <div class="ai-input-area">
            <input type="text" id="ai-userInput" placeholder="ุงุณุฃููู ุฃู ุดูุก..." onkeypress="if(event.key==='Enter') askGroq()">
            <button onclick="askGroq()" id="ai-send-btn">ุฅุฑุณุงู</button>
        </div>
    </div>

    <!-- Menu -->
    <div class="menu-icon" id="menuBtn" onclick="toggleMenu()">โฐ</div>
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>
    
    <div class="side-menu" id="sideMenu">
        
        <!-- โ ูุณู ุงูุจุฑููุงูู ุงููุญุฏุซ (ูุน ุงูุฃุฒุฑุงุฑ ุงูุฌุฏูุฏุฉ) -->
        <div class="menu-profile-section">
            <img id="menu-user-avatar" class="menu-avatar" src="https://i.ibb.co/9mPmHXkh/cropped-circle-image-2.png" onclick="triggerPhotoUpload()">
            <!-- ุชู ุฅุตูุงุญ ุงูุฎุทุฃ ููุง: ุฅุฒุงูุฉ ุงูุดุฑุทุฉ ุงููุงุฆูุฉ -->
            <input type="file" id="photoInput" style="display:none" accept="image/*" onchange="uploadPhoto(this)">
            
            <span id="menu-user-name" class="menu-username">User Name</span>
            <div id="menu-user-id" class="user-id-badge" onclick="copyMyId()">ID: ...</div>
            
            <br>

            <!-- ุงูุฃุฒุฑุงุฑ ุงูุฌุฏูุฏุฉ ุฌูุจ ุจุนุถ -->
            <div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
                <button id="btn-edit-name" onclick="changeName()" 
                        style="background:rgba(255, 215, 0, 0.1); color:#FFD700; font-size:12px; border:1px solid rgba(255, 215, 0, 0.3); border-radius:15px; padding: 6px 12px; cursor:pointer; width: auto;">
                    โ๏ธ ุงูุงุณู
                </button>
                <button onclick="triggerPhotoUpload()" 
                        style="background:rgba(76, 175, 80, 0.1); color:#4CAF50; font-size:12px; border:1px solid rgba(76, 175, 80, 0.3); border-radius:15px; padding: 6px 12px; cursor:pointer; width: auto;">
                    ๐ธ ุงูุตูุฑุฉ
                </button>
            </div>
        </div>

        <div class="menu-item-row" onclick="closeMenuAndOpen(openSquatGame)" style="background: rgba(76, 175, 80, 0.2); border: 1px solid var(--primary);">
            <span>Squat Challenge ๐ฆต</span>
            <span style="font-size: 10px; background: red; padding: 2px 5px; border-radius: 50px;">XP+</span>
        </div>
        <div class="menu-item-row" onclick="closeMenuAndOpen(openPerformanceHub)">
            <span id="mi-hub">๐ ูุฑูุฒ ุงูุฃุฏุงุก</span>
        </div>
        <div class="menu-item-row" onclick="closeMenuAndOpen(openWorkoutDaysModal)">
            <span id="mi-schedule">๐๏ธ ุชุนุฏูู ุฌุฏูู ุงูุชูุฑูู</span>
        </div>
        <div class="menu-item-row" onclick="closeMenuAndOpen(openGame)" style="background: rgba(76, 175, 80, 0.2); border: 1px solid var(--primary);">
            <span id="mi-game">Deadlift Game ๐๏ธโโ๏ธ</span>
            <span style="font-size: 10px; background: red; padding: 2px 5px; border-radius: 50px;">XP+</span>
        </div>
        <div class="menu-item-row" onclick="closeMenuAndOpen(openLeaderboard)">
            <span id="mi-lb">Leaderboard ๐</span>
        </div>
        <div class="menu-item-row" onclick="closeMenuAndOpen(openShop)">
            <span id="mi-shop">Lab Store ๐</span>
        </div>
        <div class="menu-item-row">
            <span id="mi-dark">Dark Mode ๐</span>
            <label class="switch"><input type="checkbox" id="themeToggle" onchange="toggleTheme()"><span class="slider"></span></label>
        </div>
        <div class="menu-item-row">
            <span id="mi-lang">Language ๐</span>
            <label class="switch"><input type="checkbox" id="langToggle" checked onchange="toggleLanguage()"><span class="slider"></span></label>
        </div>
        <div class="friend-section">
            <div id="mi-friends" style="font-size:14px; font-weight:800; margin-bottom:12px; opacity:0.8;">ุงูุฃุตุฏูุงุก Friends ๐ฅ</div>
            <div class="friend-add-box">
                <input type="text" id="friend-id-input" placeholder="ID ุงูุตุฏูู">
                <button id="add-friend-btn" onclick="sendFriendRequest(this)">+</button>
            </div>
            <div id="friend-list-container">
                <small style="opacity:0.5">ูุง ููุฌุฏ ุฃุตุฏูุงุก ุจุนุฏ</small>
            </div>
        </div>
        <div class="menu-item-row" onclick="logout()" style="margin-top: 10px; border: 1px solid rgba(255, 87, 34, 0.3);">
            <span id="mi-logout" style="color: #ff5722; font-weight: bold;">Logout ุชุณุฌูู ุฎุฑูุฌ</span>
            <span>๐ช</span>
        </div>
    </div>

    <!-- Modals -->

    <!-- ๐ฅ ููุฏุงู ุงูุฃุตุฏูุงุก ูุน ุฒุฑ ุงูุชุญุฏู -->
    <div id="friend-modal" onclick="document.getElementById('friend-modal').style.display='none'">
        <div class="friend-card" onclick="event.stopPropagation()">
            <div class="friend-header">
                <img id="f-modal-img" src="">
                <div class="friend-info">
                    <h3 id="f-modal-name">Name</h3>
                    <span id="f-modal-streak-container">๐ฅ <span id="f-modal-streak">0</span></span>
                </div>
                <div class="friend-actions">
                    <button id="btn-remove-f" onclick="removeFriend()" title="Remove Friend">๐๏ธ</button>
                    <button onclick="document.getElementById('friend-modal').style.display='none'" title="Close">โ</button>
                </div>
            </div>
            
            <!-- ุฒุฑ ุงูุชุญุฏู ุงูุฌุฏูุฏ -->
            <button id="btn-challenge" onclick="sendPvPChallenge()" 
                    style="background: linear-gradient(45deg, #ff5252, #d32f2f); color: white; border: none; padding: 10px; margin: 10px 15px; border-radius: 10px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(255, 82, 82, 0.4);">
                ๐ฅ PvP Challenge (Bet 500 XP)
            </button>

            <div class="chat-box" id="f-chat-box"></div>
            
            <div class="chat-input-area">
                <div class="xp-sender-box">
                    <input type="number" id="xp-amount-input" placeholder="XP" min="1">
                    <button id="btn-send-xp" onclick="sendXPToFriend(this)"><span id="xp-send-btn-text">ุฅุฑุณุงู</span> ๐</button>
                </div>
                <div class="chat-input-wrapper">
                    <input type="text" id="chat-input" placeholder="ุงูุชุจ ุฑุณุงูุฉ..." onkeypress="if(event.key==='Enter') sendChatMessage()">
                    <button onclick="sendChatMessage()">โค</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ๐ ููุฏุงู ุงููุชุฌุฑ ุงููุทูุฑ -->
    <div id="shop-modal" class="modal">
        <div class="modal-content" style="max-height: 80vh; overflow-y: auto;">
            <h3 style="margin-top: 0;" id="shop-title">๐ Lab Store</h3>
            
            <div style="background:var(--primary); padding:10px; border-radius:10px; margin-bottom:15px; font-weight:bold;">
                XP: <span id="shop-xp-val">0</span>
            </div>




            <!-- ูุณู ุงูุณููุงุช (ุงูุฏุงุฆูุฉ) -->
            <div class="shop-section-title" style="font-size: 14px; color: #aaa; margin: 15px 0 5px; border-bottom: 1px solid #444;">Skins (Permanent)</div>
            <div class="shop-item">
                <span id="shop-i1">Neon Skin โจ<br><small>1000 XP</small></span>
                <button onclick="buyItem('neon', 1000)" id="btn-neon">Unlock</button>
            </div>
            <div class="shop-item">
                <span id="shop-i2">Gold Skin ๐<br><small>2000 XP</small></span>
                <button onclick="buyItem('gold', 2000)" id="btn-gold">Unlock</button>
            </div>

            <!-- ูุณู ุงูุงุณุชููุงููุงุช (ุงูุฌุฏูุฏ) -->
            <div class="shop-section-title" style="font-size: 14px; color: #aaa; margin: 15px 0 5px; border-bottom: 1px solid #444;">Power-ups (One-time Use)</div>
            
            <div class="shop-item consumable" style="border: 1px solid #2196F3; background: rgba(33, 150, 243, 0.1);">
                <span id="shop-potion">๐งช XP Potion (x0)<br><small>Double XP for 1hr</small></span>
                <button onclick="buyConsumable('potion', 500)" id="btn-potion" style="background: #2196F3;">500 XP</button>
            </div>

<div class="shop-item consumable" style="border: 1px solid #FFC107; background: rgba(255, 193, 7, 0.1);">
    <span id="shop-energy">โก Energy Drink (x0)<br><small>Regen every 1min for 1hr</small></span>
    <button onclick="buyConsumable('energy_drink', 800)" id="btn-energy" style="background: #FFC107; color:black;">800 XP</button>
</div>


            
            <div class="shop-item consumable" style="border: 1px solid #2196F3; background: rgba(33, 150, 243, 0.1);">
                <span id="shop-freeze">โ๏ธ Streak Freeze (x0)<br><small>Protect streak 1 day</small></span>
                <button onclick="buyConsumable('freeze', 1000)" id="btn-freeze" style="background: #2196F3;">1000 XP</button>
            </div>

            <button onclick="closeShop()" id="shop-close" style="background:rgba(255,255,255,0.1); color:white; margin-top:20px; border: 1px solid white;">Close</button>
        </div>
    </div>

    <!-- ุจุงูู ุงูููุฏุงูุงุช ุงููุฏููุฉ -->
    <div id="lb-modal" onclick="closeLeaderboard()">
        <div class="lb-card" onclick="event.stopPropagation()">
            <h2 style="text-align:center; margin-bottom:20px;" id="lb-title-text">๐ Leaderboard</h2>
            <div id="lb-list">Loading...</div>
            <button onclick="closeLeaderboard()" id="lb-close-btn" style="background:var(--primary); color:white; margin-top:20px;">ุฅุบูุงู Close</button>
        </div>
    </div>

    <!-- Auth Overlay -->
    <div id="auth-overlay">
        <div class="switch-container auth-lang-switch" style="display:flex; align-items:center; gap:5px; background:rgba(0,0,0,0.3); padding:5px 10px; border-radius:50px;">
            <span style="font-size: 10px; color:white;">EN</span>
            <label class="switch"><input type="checkbox" id="authLangToggle" checked onchange="syncLanguage(this)"><span class="slider"></span></label>
            <span style="font-size: 10px; color:white;">AR</span>
        </div>
        <div class="auth-card">
            <img src="https://i.ibb.co/9mPmHXkh/cropped-circle-image-2.png" style="width:80px; margin-bottom:15px;">
            <h2 id="auth-title">ุชุณุฌูู ุงูุฏุฎูู</h2>
            <div id="signup-fields" class="hidden">
                <input type="text" id="auth-fname" placeholder="ุงูุงุณู ุงูุฃูู">
                <input type="text" id="auth-lname" placeholder="ุงุณู ุงูุนุงุฆูุฉ">
            </div>
            <input type="email" id="auth-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
            <input type="password" id="auth-pass" placeholder="ูููุฉ ุงููุฑูุฑ">
            <button class="auth-btn-main" onclick="handleAuth()" id="auth-btn">ุฏุฎูู</button>
            <span class="auth-link" onclick="toggleAuthMode()" id="auth-toggle-text">ููุณ ูุฏูู ุญุณุงุจุ ุณุฌู ุงูุขู</span>
            <span class="auth-link" style="color:#FFD700;" onclick="forgotPassword()" id="auth-forgot">ูุณูุช ูููุฉ ุงูุณุฑุ</span>
        </div>
    </div>

    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div style="font-size:50px; margin-bottom:20px;">๐งช</div>
            <h2 id="modal-title">RGALAB PRO</h2>
            <p id="modal-text"></p>
            <button class="agree-btn" id="modal-btn" onclick="acceptPrivacy()"></button>
        </div>
    </div>

    <!-- Modals for Logic -->
    <div id="days-modal" class="modal">
        <div class="modal-content">
            <h3 id="wd-title">ุญุฏุฏ ุฌุฏููู ุงูุชุฏุฑูุจู</h3>
            <p id="wd-subtitle" style="opacity: 0.7; font-size: 14px;"></p>
            <div class="day-selector-container">
                <div class="day-selector" id="day-selector-cal"></div>
            </div>
            <button class="agree-btn" id="wd-save" onclick="saveWorkoutDays()">ุญูุธ</button>
        </div>
    </div>

    <div id="muscle-group-modal" class="modal">
        <div class="modal-content">
            <h3 id="mg-title">ูุงุฐุง ุณุชูุฑู ุงููููุ</h3>
            <div class="muscle-selector" id="muscle-group-selector"></div>
            <button onclick="document.getElementById('muscle-group-modal').style.display='none'" style="background:rgba(255,255,255,0.1); color:white; margin-top:10px; border: 1px solid white; width:100%; padding:12px;">ุฅูุบุงุก</button>
        </div>
    </div>

    <div id="logger-modal" class="modal">
        <div class="modal-content">
            <h3 style="margin-top:0" id="wl-title">ุณุฌู ุชูุฑูู ุงูููู</h3>
            <div class="logger-form">
                <input type="text" id="log-exercise" placeholder="ุงูุชูุฑูู" onkeyup="checkExerciseHistory(this.value)">
                <span id="performance-history-icon" onclick="showPerformanceTracker()">๐</span>
                <input type="number" id="log-weight" placeholder="ุงููุฒู">
                <input type="number" id="log-reps" placeholder="ุงูุชูุฑุงุฑ">
                <button onclick="addExerciseToLog()" style="background:var(--primary); color:white;">+</button>
            </div>
            <div id="logged-exercises-list" style="max-height: 150px; overflow-y:auto; padding: 5px; background: rgba(0,0,0,0.1); border-radius:10px; min-height: 50px;"></div>
            <button class="agree-btn" onclick="saveLoggedWorkout()" id="wl-save" style="margin-top:20px;">ุญูุธ ูุฅููุงุก ุงูุชูุฑูู</button>
            <button onclick="closeWorkoutLogger()" id="wl-close" style="background:rgba(255,255,255,0.1); color:white; margin-top:10px; border: 1px solid white; width:100%; padding:12px;">ุฅุบูุงู</button>
        </div>
    </div>

    <div id="performance-tracker-modal" class="modal">
        <div class="modal-content">
            <h3 style="margin-top:0" id="pt-title">ุชุทูุฑ ุงูุฃุฏุงุก</h3>
            <div id="pt-pr-display"></div>
            <div style="margin: 15px 0;"><canvas id="performance-chart"></canvas></div>
            <h4 id="pt-history-title" style="margin-bottom: 5px; font-size: 14px; text-align: start;">ุขุฎุฑ ุงูุฌูุณุงุช</h4>
            <div id="pt-history-list"></div>
            <button onclick="document.getElementById('performance-tracker-modal').style.display='none'" class="agree-btn" style="margin-top:20px;">ุฅุบูุงู</button>
        </div>
    </div>

    <div id="performance-hub-modal" class="modal">
        <div class="modal-content">
            <div class="hub-header">
                <h2 id="ph-title"></h2>
                <button class="close-btn" onclick="document.getElementById('performance-hub-modal').style.display='none'">&times;</button>
            </div>
            <div class="hub-tabs">
                <button id="hub-tab-overview" class="active" onclick="switchHubTab('overview')"></button>
                <button id="hub-tab-history" onclick="switchHubTab('history')"></button>
            </div>
            <div class="hub-body">
                <div id="hub-overview-content">
                    <div class="hub-stats-grid">
                        <div class="hub-stat-box"><div id="ph-total-workouts-label" class="label"></div><div id="hub-total-workouts" class="value">0</div></div>
                        <div class="hub-stat-box"><div id="ph-total-weight-label" class="label"></div><div id="hub-total-weight" class="value">0</div></div>
                    </div>
                    <div style="width: 100%; height: 250px; margin-top: 20px;"><canvas id="hub-muscle-chart"></canvas></div>
                </div>
                <div id="hub-history-content" class="hidden">
                    <input type="text" id="hub-search-exercise" onkeyup="filterHubExercises(this.value)" placeholder="ุงุจุญุซ ุนู ุชูุฑูู...">
                    <div id="hub-exercise-list" style="max-height: 350px; overflow-y: auto;"></div>
                </div>
                <div id="hub-no-data" class="hidden" style="text-align:center; padding: 40px 20px; opacity: 0.7;"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="logo-container">
        <img src="https://i.ibb.co/SXkYZMWn/cropped-circle-image-3.png" alt="RGALAB Logo">
        <div class="rank-section">
            <div id="rank-display">RANK: RECRUIT</div>
            <div class="xp-bar-container"><div id="xp-fill"></div></div>
            <div class="streak-badge">๐ฅ <span id="streak-num">0</span> <span id="lbl-streak-txt">DAYS STREAK</span></div>
        </div>
    </div>

    <div class="container">
        <div id="missionArea">
            <h3 id="lbl-missions" style="margin-top:0;">๐ฏ ูููุงุช ุงูููู</h3>
            <div id="dynamic-mission-area"></div>
            <div class="mission-item" id="mission-meal" onclick="doMission(this, 30)">
                <span><span id="m2">๐ฅ ูุฌุจุฉ ุตุญูุฉ</span></span> <b>+30 XP</b>
            </div>
        </div>
        <div style="display: flex; gap: 10px;">
            <input type="number" id="weight" placeholder="ุงููุฒู">
            <input type="number" id="height" placeholder="ุงูุทูู">
        </div>
        <input type="number" id="age" placeholder="ุงูุนูุฑ">
        <select id="gender">
            <option value="male" id="opt-male"></option>
            <option value="female" id="opt-female"></option>
        </select>
        <select id="activity">
            <option value="1.2" id="act1"></option>
            <option value="1.375" id="act2"></option>
            <option value="1.55" id="act3"></option>
            <option value="1.725" id="act4"></option>
        </select>
        <button class="calc-btn" onclick="processAll()" id="calcBtn"></button>
        <div id="resultsArea" class="hidden">
            <div class="extra-card" style="background: rgba(0,0,0,0.2); padding:15px; border-radius:15px; margin-top:10px; text-align:center;">
                <div style="margin-bottom:5px; font-size:14px;"><span id="lbl-water-track"></span></div>
                <div id="water-tracker" style="cursor:pointer; font-size:22px; letter-spacing: 3px;">โฌโฌโฌโฌโฌโฌโฌโฌ</div>
            </div>
            <div class="grid-results">
                <div class="res-box"><small id="lbl-bmi"></small><b id="val-bmi">0</b><div id="status-bmi" style="font-size: 12px; font-weight: bold; color: #ffeb3b;"></div></div>
                <div class="res-box"><small id="lbl-ideal"></small><b id="val-ideal">0</b> <small class="unit-kg"></small></div>
            </div>
            <div class="grid-results"><div class="res-box" style="grid-column: span 2;"><small id="lbl-water"></small><b id="val-water">0</b> <small id="unit-l"></small></div></div>
            <h3 class="section-title" id="lbl-sec-cal"></h3>
            <div class="grid-results">
                <div class="res-box" style="grid-column: span 2; background: rgba(76, 175, 80, 0.2);"><small id="lbl-maintain"></small><b id="res-maintain">0</b></div>
                <div class="res-box"><small id="lbl-lose"></small><b id="res-lose">0</b></div>
                <div class="res-box"><small id="lbl-gain"></small><b id="res-gain">0</b></div>
            </div>
            <button onclick="shareStreak()" style="background: #FF5722; color: white; margin-top:20px;" id="btn-streak-share"></button>
            <button onclick="shareResults()" style="background: rgba(255,255,255,0.1); border: 1px solid white; cursor: pointer;" id="btn-share"></button>
            <p style="font-size: 10px; opacity: 0.5;">ID: <span id="myIdDisplay">---</span></p>
        </div>
        <div class="footer-info">
            <span class="privacy-link" onclick="showPrivacy()">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ | Privacy Policy</span>
            <div class="contact-item"><span>โ๏ธ</span> <a href="mailto:RGA@RGA.BEST">RGA@RGA.BEST</a></div>
            <!-- ุชู ุฅุตูุงุญ ุงูุฎุทุฃ ููุง: target="_blank" -->
            <div class="contact-item">๐ธ Dev: <a href="https://instagram.com/therealraed" target="_blank">therealraed</a></div>
        </div>
    </div>

    <!-- ุฑุจุท ููู ุงูุฌุงูุงุณูุฑุจุช -->
    <script src="main.js"></script>
</body>
</html>
